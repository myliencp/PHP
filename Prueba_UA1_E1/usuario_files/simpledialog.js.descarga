define("$tmpl!ep/ui/simpledialog",["jquery/tmpl"],function(e){e.template("ep.ui.simpledialog",'<div class="ep-uiSimpledialog ep-uiSimpledialog-${layout} ui-front" {{elem \'dialog\'}}><div class="ep-uiSimpledialog-head"><span class="ep-handle"></span><span class="ep-uiSimpledialog-close" {{elem \'closeButton\'}}>x</span></div><div class="ep-uiSimpledialog-content" {{elem \'content\'}}></div></div>');var t=e.template("ep/ui/simpledialog",'<div class="ep-uiSimpledialog ep-uiSimpledialog-${layout} ui-front" {{elem \'dialog\'}}><div class="ep-uiSimpledialog-head"><span class="ep-handle"></span><span class="ep-uiSimpledialog-close" {{elem \'closeButton\'}}>x</span></div><div class="ep-uiSimpledialog-content" {{elem \'content\'}}></div></div>');return function(n,i){return e.tmpl(t,n,i)}}),define("ep/ui/simpledialog",["jquery","ep","$tmpl!ep/ui/simpledialog","jquery/ui/widget","jquery/ui/draggable","ep/ui/input","ep/fn/contextorientation"],function(e,t,n){"use strict";var i=e("html");return e.widget("ui.uiSimpledialog",{options:{autoOpen:!1,orientation:"bottom",orientationAdjust:[0,0],layout:"base"},_create:function(){var t=this;t.options,t.element.on("click.uiSimpledialog",e.proxy(t,"open"))},_init:function(){var e=this,t=e.options;t.autoOpen&&e.open()},_build:function(){if(!this.dialog){var t=this,i=t.options;e.extend(t,n([i]).tmplItem("elements")),t.dialog.hide().appendTo("body").draggable({containment:"window",handle:".ep-uiSimpledialog-head"}),t._setOptions(i),t.closeButton.on("click",e.proxy(t,"close"))}},_setOption:function(n,i){var o=this;switch(o.options,n){case"zIndex":o.dialog.css("z-index",i);break;case"content":o.content.empty(),o.content.append(i);break;case"buttons":o.buttons&&(o.buttons.remove(),o.buttons=null),e.isArray(i)&&(o.buttons=e('<div class="ep-uiSimpledialog-buttons"></div>').appendTo(o.dialog),e.each(i,function(e,n){t('<button type="button" class="ep-button"></button>').text(n.text).on("click",n.callback).uiInput().appendTo(o.buttons)}))}o._superApply(arguments)},open:function(t){var n=this,o=n.options,t=t?t:n.element;n._build(),n.dialog.show().contextOrientation(t,o.orientation,o.orientationAdjust),setTimeout(function(){i.on("click.uiSimpledialog",e.proxy(n,"_close"))},1),n.element.trigger("open")},close:function(){var t=this;t.dialog&&(t.dialog.hide(),i.off("click.uiSimpledialog",e.proxy(t,"_close")),t.element.trigger("close"))},_close:function(t){var n=this,i=n.element,o=e(t.originalTarget||t.target);e.contains(i[0],o[0])||o[0]===i[0]||o.is(".ep-uiSimpledialog, .ep-uiSimpledialog *")||o.hasClass("ColorBox")||n.close()},destroy:function(){this.close(),this.element.off("click.uiSimpledialog"),this.dialog&&this.dialog.remove(),this._superApply(arguments)}}),t});
//@ sourceMappingURL=simpledialog.js.map