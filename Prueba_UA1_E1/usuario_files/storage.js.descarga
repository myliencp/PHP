define("util/storage",["module","util/json","jquery","jquery/cookie"],function(e,t,i){var n=this,a={local:!1,session:!1},r={config:i.extend({namespace:""},e.config())};return i.each(["local","session"],function(e,o){var s=o+"Storage";try{a[o]=n[s]&&n[s].setItem}catch(l){}r[o+"Storage"]=function(e,l){if(e=r.config.namespace+e,void 0===l){var u=a[o]?n[s].getItem(e):i.cookie(o+":"+e);return void 0===u||null===u?null:t.decode(u)}return null===l?(a[o]?n[s].removeItem(e):i.cookie(o+":"+e,null,{path:"/",domain:document.domain,expires:-365}),this):(l=t.encode(l),a[o]?n[s].setItem(e,l):i.cookie(o+":"+e,l,{path:"/",domain:document.domain,expires:"localStorage"===o?365:void 0}),this)},r[o+"Clear"]=function(e){var t=new RegExp("^"+(a[o]?"":o+":")+(e?"":r.config.namespace),"");if(a[o])if(e)n[s].clear();else for(var l in n[s])t.test(l)&&n[s].removeItem(l);else document.cookie&&""!==document.cookie&&i.each(document.cookie.split(";"),function(e,n){t.test(n=i.trim(n))&&i.cookie(n.substr(0,n.indexOf("=")),null,{path:"/",domain:document.domain,expires:-365})});return this}}),r});
//@ sourceMappingURL=storage.js.map