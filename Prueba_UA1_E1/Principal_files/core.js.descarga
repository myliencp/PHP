define("ep/ui/core",["jquery","ep","util/scope"],function(e,t,n){"use strict";var i=n("ep.ui"),o=function(t){var n="";return"string"==typeof t?n=t:t instanceof e&&(n=t.selector),n||(t[e.expando]||(t[e.expando]=++e.guid),n="Expando:"+t[e.expando]),n},a=function(t,n){var i,o,a=e.type(t),r={};"string"===a?i={src:t,desc:""}:t.nodeType?(o=e(t),o.is("img")&&(r=o.data(),r.href=o.closest("a").attr("href"),i={node:t,src:o.attr("src"),desc:(o.attr("title")||o.attr("alt")||"").replace(/\\\\n/g,"\n")})):"object"===a&&t.src&&(r=t,i={src:t.src,desc:t.desc||""}),i&&(i.srcL=r.srcL||r.srcM||i.src,i.srcMl=r.srcMl||i.srcL,i.srcM=r.srcM||i.srcMl,i.srcMs=r.srcMs||i.srcM,i.srcS=r.srcS||i.srcM,i.srcXs=r.srcXs||i.srcS,i.href=r.href||i.srcL,i.getSrcFor=function(t){var n,o=t instanceof e?t:e(t),a=o.innerWidth(),r=o.innerHeight();return n=a>=750||r>=750?i.srcL:a>=350||r>=350?i.srcMl:a>=200||r>=200?i.srcM:a>=100||r>=100?i.srcMs:a>=75||r>=75?i.srcS:i.srcXs},i._checkSrcName=function(e,t){var n=t.replace(/(_(xs|s|ms|m|ml|l))?\.[^\.]+$/i,""),i=e.replace(/(_(xs|s|ms|m|ml|l))?\.[^\.]+$/i,"");return n===i?t:e},n.push(i))};return i.imgData=function(t){var n,r,s=o(t),l=i.imgData.cache[s];return l||(n=e.type(t),r=[],"string"!==n||/\//.test(t)?"array"===n?e.each(t,function(e,t){a(t,r)}):t instanceof e?t.each(function(){a(this,r)}):("string"===n||"object"===n&&(t.src||t.nodeType))&&a(t,r):e(t).each(function(){a(this,r)}),l=new i.imgData.init(r),l.on("location",function(){var e=(l.current()||{}).href;e&&(location.href=e)}),s&&(i.imgData.cache[s]=l)),l},i.imgData.cache={},i.imgData.init=function(t){var n=this;return n.eventObject=e("<div/>"),e(window).on("resize",function(){n.trigger("resize"),clearTimeout(n._resizestopdelay),n._resizestopdelay=setTimeout(function(){n.trigger("resizestop")},100)}),e.merge(n,t)},i.imgData.init.prototype={length:0,currentItem:0,each:e.fn.each,get:function(t){return arguments.length?this[t]:e.merge([],this)},current:function(e){var t,n;return arguments.length?(n=this.currentItem,"next"===e?n++:"prev"===e?n--:n=e,n===this.currentItem||n>=this.length||0>n?t=this:(this.currentItem=n,t=this.trigger("change"))):t=this.get(this.currentItem),t},prev:function(){return this.get(this.currentItem-1)},next:function(){return this.get(this.currentItem+1)},first:function(){return this.get(0)},last:function(){return this.get(this.length-1)},on:function(t,n){return this.eventObject.on(t,e.proxy(n,this)),this},off:function(t,n){return n?this.eventObject.off(t,e.proxy(n,this)):this.eventObject.off(t),this},trigger:function(e){return this.eventObject.trigger(e),this}},i.createMoveToTop=function(e){return function(t,n){var i=this[e],o=!!i.nextAll(":visible").insertBefore(i).length;return o&&!n&&this._trigger&&this._trigger("focus",t),this}},t});
//@ sourceMappingURL=core.js.map