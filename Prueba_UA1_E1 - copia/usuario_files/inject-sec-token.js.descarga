define("ep/inject-sec-token",["jquery","ep","jquery/cookie","$ready!"],function(e,t){"use strict";return t.injectSecToken=function(t){var n={tokenName:"SecToken",selector:'form[method="post"]',link:"a"},i=e.cookie(),o=function(e){r.call(e)||i[n.tokenName]&&0===e.find("input[name='"+n.tokenName+"']").length&&e.append('<input type="hidden" name="'+n.tokenName+'" value="'+i[n.tokenName]+'" />')},a=function(e){if(!r.call(e)){var t=e.attr("href");t&&t.search(/ChangeAction/i)>-1&&i[n.tokenName]&&-1===t.search(new RegExp(n.tokenName))&&(t+=(-1===t.search(/\?/)?"?":"&")+n.tokenName+"="+i[n.tokenName],e.attr("href",t))}},r=function(){return e(this).data("nosectoken")};e.extend(n,t),e(n.selector).each(function(){o(e(this))}),e(n.link).each(function(){a(e(this))}),e(document).on("submit",n.selector,function(){o(e(this))}),e(document).on("click",n.link,function(){a(e(this))})},t});
//@ sourceMappingURL=inject-sec-token.js.map